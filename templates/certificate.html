{% load static %}
<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="{% static 'images/logo.png' %}" type="image/png">
  <title>सम्मान पत्र</title>
  <link rel="stylesheet" href="{% static 'css/certificate.css' %}">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;700&display=swap" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>
</head>
<body>
  <div class="certificate-container">
    <div class="backbutton">
      <button onclick="window.history.back()">Back</button>
    </div>
    <div class="certificate" id="certificate">
      <img src="{% static 'images/logo.png' %}" alt="Watermark" class="watermark" />
      <div class="border"></div>
      <div class="corner top-left"></div>
      <div class="corner top-right"></div>
      <div class="corner bottom-left"></div>
      <div class="corner bottom-right"></div>
      <img src="{% static 'images/logo.png' %}" alt="Logo Left" class="logo logo-left" />
      <img src="{% static 'images/baba.jpg' %}" alt="Logo Right" class="logo logo-right" />

      <div class="header">
        <div class="reg">
          <div class="num"><h1>मोक्ष धाम मृत्यु सत्य है</h1></div>
          <div><h3>रजिस्ट्रेशन नंबर: 07/33/01/18822/24</h3></div>
        </div>
        <p>पंजी.सं. 123/18</p>
        <h2>अघोर अखाड़ा ज्योतिष पीठ उज्जैन</h2>
        <p>अघोर अखाड़ा उज्जैन</p>
      </div>

      <h1 class="title">सम्मान पत्र</h1>

      <div class="content">
        <div class="date-head">
          <div><b>दिनांक:</b> <span class="fillable">{{ certificate.date }}</span></div>
          <div><b>पत्रांक:</b> <span class="fillable">{{ certificate.letter_number }}</span></div>
        </div>
        <p>
          श्री/सुश्री <span class="fillable">{{ certificate.name }}</span> गुरु/पिता/पति <span class="fillable">{{ certificate.guardian }}</span>, 
          पता <span class="fillable">{{ certificate.area }}</span>, आपके द्वारा अखाड़े राष्ट्र व समाज के लिए उत्कृष्ट कार्यों के लिए
          आपको अखाड़े द्वारा सम्मान पत्र प्रदान किया जाता।
        </p>
        <p>
          <span class="fillable">{{ certificate.workarea }}</span> क्षेत्र के लिए किए गए राष्ट्र व समाज कल्याण हेतु आपके कार्यों को 
          सदैव याद रखा जाएगा। आप ऐसे ही आगे भी अपना योगदान राष्ट्र व समाज के उत्थान के लिए करते रहें, यही ईश्वर से 
          प्रार्थना है।
        </p>
      </div>

      <div class="footer">
        <h2>आपके उज्जवल भविष्य की कामनाओं के साथ सप्रेम भेट</h2>
        <h3>अघोर अखाड़ा उज्जैन</h3>
      </div>
      
      <div class="footer-signature">
        <div><img src="{% static 'images/sign.png' %}" alt="Signature 1" /></div>
        <div><img src="{% static 'images/sign 2.png' %}" alt="Signature 2" /></div>
        <div><img src="{% static 'images/seal 3.png' %}" alt="Seal" /></div>
      </div>
    </div>
  </div>

  <button class="download-button" onclick="confirmDownload()">
    डाउनलोड करें (Download)
  </button>

  <script>
    // Function to download the certificate as a PDF
    function confirmDownload() {
      const certificateElement = document.getElementById("certificate");
      const options = {
        margin: 0.5,
        filename: 'certificate.pdf',
        image: { type: 'jpeg', quality: 0.98 },
        html2canvas: { scale: 2 },
        jsPDF: { unit: 'in', format: 'a4', orientation: 'portrait' }
      };

      html2pdf().set(options).from(certificateElement).save();
    }
  </script>
</body>
</html>
